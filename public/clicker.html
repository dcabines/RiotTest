<clicker>
  <input type="checkbox" onclick={auto}>
  <button onclick={click}>{name}</button>
  <span>{value}</span>
  <span>({interval.toFixed(1)}/s)</span>

  <script>
    var store = opts.store;
    var resource = opts.resource;
    var timeout = opts.timeout;
    
    store.dispatch({
      name: 'resource:init',
      resource: resource
    });
    
    this.mixin({
      name: resource,
      interval: 0,
      value: 0,
      click: function () {
        store.dispatch({
          name: 'resource:increment',
          resource: resource
        });
      },
      start: function () {
        this.timer = setInterval(this.click, timeout);
        this.interval = this.msToPerSec(timeout);
      },
      stop: function () {
        clearInterval(this.timer);
        this.interval = 0;
      },
      auto: function (e) {
        this[e.target.checked ? 'start' : 'stop']();
      },
      msToPerSec: function (ms) {
        return 1 / (ms / 1000);
      }
    });
    
    store.on('update', function (state) {
      this.update({ value: state[resource] });
    }.bind(this));
  </script>
</clicker>